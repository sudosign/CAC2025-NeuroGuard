<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeuroGuard</title>
    
    <!-- Tailwind & Chart Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>

    <!-- Dashboard Layout -->
    <section class="grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6 min-h-screen p-6 h-screen">
      <!-- Left: Headband Impact Risk Assessment -->
      <div class="p-6 rounded-xl shadow-xl flex flex-col h-full overflow-auto" 
          style="background-color: #12181d; border: 2.5px solid #1d2126; border-radius: 15px;">
        
        <div class="flex items-center gap-2 mb-4">
          <h2 class="text-lg font-semibold text-gray-200">Headband Impact Risk Assessment</h2>
          <a href="https://cattonline.com/scat" target="_blank">
            <img 
              src="info.svg" 
              alt="learn more" 
              class="w-5 h-5 transition duration-200 hover:[filter:brightness(0)_saturate(100%)_invert(53%)_sepia(36%)_saturate(2211%)_hue-rotate(320deg)_brightness(102%)_contrast(101%)]"
            >
          </a>
        </div>

        <div class="risk-grid mb-4">
          <div class="p-3 rounded-lg" style="border:2.5px solid #1d2126; box-shadow:0px 3px 5px rgba(0,0,0,0.5);">
            <h3 class="text-sm font-medium text-gray-400 mb-1">NRS Score</h3>
            <div class="flex items-baseline gap-2">
              <p id="nrs-score" class="text-2xl font-bold text-gray-100">0.0</p>
              <p id="nrs-level" class="risk-level risk-low">Low Risk</p>
            </div>
          </div>
          <div class="p-3 rounded-lg" style="border:2.5px solid #1d2126; box-shadow:0px 3px 5px rgba(0,0,0,0.5);">
            <h3 class="text-sm font-medium text-gray-400 mb-1">Acute (AWE)</h3>
            <p id="awe-score" class="text-2xl font-bold text-yellow-300">0.0</p>
          </div>
          <div class="p-3 rounded-lg" style="border:2.5px solid #1d2126; box-shadow:0px 3px 5px rgba(0,0,0,0.5);">
            <h3 class="text-sm font-medium text-gray-400 mb-1">Chronic (CLI)</h3>
            <p id="cli-score" class="text-2xl font-bold text-blue-300">0.0</p>
          </div>
        </div>

        <!-- Chart fills remaining height -->
        <div class="chart-wrapper flex-1 relative">
          <canvas id="nrsChartCanvas"></canvas>
        </div>
      </div>

      <!-- Right: Two stacked cards -->
      <div class="flex flex-col gap-6 h-full">
        <!-- Accelerometer -->
        <div class="flex-1 p-6 rounded-xl shadow-xl flex flex-col" 
            style="background-color:#12181d; border:2.5px solid #1d2126; border-radius:15px;">
          <h2 class="text-lg font-semibold text-gray-200 mb-4">Accelerometer</h2>
          <div class="chart-wrapper flex-1 relative">
            <canvas id="accelChartCanvas"></canvas>
          </div>
      </div>

        <!-- Gyroscope -->
        <div class="flex-1 p-6 rounded-xl shadow-xl flex flex-col" 
            style="background-color:#12181d; border:2.5px solid #1d2126; border-radius:15px;">
          <h2 class="text-lg font-semibold text-gray-200 mb-4">Gyroscope</h2>
          <div class="chart-wrapper flex-1 relative">
            <canvas id="gyroChartCanvas"></canvas>
          </div>
        </div>
      </div>
    </section>

    <div id="notification" 
        class="hidden fixed top-4 right-4 px-4 py-3 rounded-lg shadow-lg text-white font-medium transition-all duration-300 z-50">
      <span id="notification-text"></span>
    </div>

    <div id="bluetoothModal" 
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
      <div class="bg-[#12181d] p-6 rounded-xl shadow-xl w-96 border border-gray-700">
        <h2 class="text-lg font-semibold text-gray-200 mb-4">Connect to Device</h2>
        <p class="text-sm text-gray-400 mb-4">Click below to search for available Bluetooth devices.</p>
        
        <button id="searchBtn" 
                class="w-full px-3 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white">
          Search Devices
        </button>
        
        <div id="deviceList" class="space-y-2 max-h-48 overflow-y-auto mt-4"></div>
      </div>
    </div>

    <script src="app.js" defer></script>
  </body>
</html>
